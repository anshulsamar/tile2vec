// Based on Sherrie Wang's midwest crop script

// Load a raw Landsat 5 ImageCollection for a single year.
//var collection = ee.ImageCollection('LANDSAT/LC08/C01/T1')
//    .filterDate('2013-01-01', '2013-12-31');

var collection = ee.ImageCollection('LANDSAT/LE07/C01/T1')
    .filterDate('2009-01-01', '2011-12-31');

// Create a cloud-free composite with default parameters.
var composite = ee.Algorithms.Landsat.simpleComposite(collection);

function addLatLonBands(composite){
  var ll = composite.select(0).multiply(0).add(ee.Image.pixelLonLat());
  return composite.addBands(ll.select(['longitude', 'latitude'],['PXLON', 'PXLAT']));
}
composite = addLatLonBands(composite);
composite = composite.float();
print(composite);

var latlon = [[-0.53062749, 32.32749176],
       [ 0.28908074, 32.56064987],
       [-0.04357304, 32.00530624],
       [ 0.33318767, 32.57065582],
       [ 0.31304476, 32.5691452 ],
       [ 0.30309552, 32.57334518],
       [ 0.34575298, 32.54629898],
       [ 0.37804905, 32.59412766],
       [ 0.371429  , 32.56505966],
       [ 0.36514077, 32.59701538],
       [ 0.35690978, 32.5883522 ],
       [ 0.78502685, 33.3249054 ],
       [ 0.36253446, 32.5747261 ],
       [ 0.34599793, 32.58322525],
       [ 0.28927287, 32.61597443],
       [ 0.23867941, 32.62082291],
       [ 0.32207635, 32.52580261],
       [ 0.31279653, 32.61147308],
       [ 0.30322111, 32.61974716],
       [ 0.28581339, 32.57873917],
       [ 0.39059284, 32.52159119],
       [ 0.23138611, 32.59099197],
       [ 0.30165493, 32.60054779],
       [ 0.32639074, 32.55514526],
       [ 0.27318704, 32.62480927],
       [ 0.29515454, 32.58539963],
       [ 0.28539219, 32.61766434],
       [ 0.41072601, 32.48871231],
       [ 0.36563045, 32.55547714],
       [ 0.34478223, 32.58753204],
       [ 0.36772007, 32.62395859],
       [ 0.36840436, 32.59025574],
       [ 0.32818478, 32.63406754],
       [ 0.32192761, 32.63808823],
       [ 0.33720475, 32.60858917],
       [ 0.41721264, 33.21524429],
       [ 0.30594072, 32.52914429],
       [ 0.28985971, 32.55303574],
       [ 0.3567673 , 32.55710602],
       [ 0.33075041, 32.54214096],
       [ 0.28979164, 32.53538132],
       [ 0.27931949, 32.56605148],
       [ 0.33245257, 32.54236984],
       [ 0.31714338, 32.537323  ],
       [ 0.30460998, 32.54377365],
       [ 0.82792664, 31.84346581],
       [ 0.92350906, 31.57856178],
       [ 0.88724399, 31.70094681],
       [ 0.71214485, 32.52943039],
       [ 0.58655202, 32.52522278],
       [ 0.58952701, 32.62310791],
       [ 0.47129345, 32.86458969],
       [ 0.66238511, 32.70914078],
       [ 0.27692965, 32.54593658],
       [ 0.25701767, 32.57933044],
       [ 0.3471041 , 32.53752899],
       [ 0.79487455, 32.47114182],
       [ 0.81150138, 32.51591873],
       [ 0.35051212, 32.62479782],
       [-0.34314713, 31.72531319],
       [-0.14214757, 31.87967682],
       [-0.07957099, 31.63570786],
       [-0.30341291, 31.72287941],
       [ 0.33991042, 32.55856705],
       [-0.20546399, 31.5668087 ],
       [-0.24854319, 31.66781616],
       [-0.344248  , 31.57166481],
       [-0.47120026, 31.3637867 ],
       [-0.52238631, 31.35534286],
       [-0.57678241, 31.69163704],
       [-0.291444  , 31.79134369],
       [-0.30155933, 31.75024986],
       [-0.31438649, 31.76853371],
       [ 0.42302322, 33.14474106],
       [ 0.0009766 , 31.79979897],
       [-0.31462511, 31.7481575 ],
       [-0.19768302, 31.81029129],
       [-0.27213916, 31.75036621],
       [ 0.11205984, 31.76034546],
       [ 0.02992708, 32.02458954],
       [ 0.34618655, 32.25130081],
       [ 0.27025428, 31.64844894],
       [ 0.21624768, 31.57478333],
       [ 0.33526602, 31.64697456],
       [ 0.17068891, 32.46136093],
       [ 0.18946646, 32.43751907],
       [ 0.07160986, 32.09287262],
       [ 0.19665441, 32.25522995],
       [ 0.55268747, 31.38202667],
       [ 0.48071983, 31.69316673],
       [ 0.39071351, 32.07382202],
       [ 0.21303451, 31.05263901],
       [ 0.53796762, 31.36823654],
       [ 0.41377482, 31.23796082],
       [ 0.63070548, 31.78772354],
       [ 0.5241794 , 31.35946274],
       [ 0.34390631, 32.5416832 ],
       [ 0.48756397, 31.8009243 ],
       [ 0.44648844, 31.82570648],
       [ 0.42638919, 31.83794594],
       [ 0.40192401, 32.10207748],
       [ 0.57550406, 31.81982231],
       [ 0.58675128, 31.71815491],
       [ 0.40262333, 32.08105469],
       [ 0.35495532, 32.93350601],
       [ 0.28615281, 32.6383667 ],
       [ 0.32752514, 32.97948074],
       [ 0.41141748, 33.14136887],
       [ 0.31634957, 33.16035843],
       [ 0.35963053, 33.13724899],
       [ 0.36969095, 33.18743134],
       [ 0.37626344, 33.19101334],
       [ 0.51555681, 33.43617249],
       [ 0.43574235, 32.80373383],
       [ 0.37261337, 32.75637436],
       [ 0.38950706, 32.8391037 ],
       [ 0.46365187, 32.78996277],
       [ 0.41184908, 32.68875504],
       [ 0.33792701, 32.53672791],
       [ 0.61938912, 32.81215668],
       [ 0.33824009, 32.64032745],
       [ 0.68482441, 32.82920837],
       [ 0.62513953, 32.91958618],
       [ 1.58244658, 32.18929291],
       [ 1.51488459, 32.10148239],
       [ 1.60925388, 32.19147491],
       [ 1.39986944, 32.25649643],
       [ 1.57053363, 32.36244202],
       [-0.63923138, 31.52998924],
       [ 0.37218821, 32.56846237],
       [-0.8871249 , 31.71108818],
       [-0.90362674, 31.76547241],
       [-0.61210996, 31.18363762],
       [-0.51861161, 31.19443703],
       [-0.36449268, 31.15954781],
       [-0.67038947, 31.16044044],
       [-0.50883049, 31.33328629],
       [ 0.26899675, 32.57284546],
       [ 0.28599101, 32.53870392],
       [-0.50336111, 31.61606979],
       [ 0.25813642, 32.56532288],
       [ 0.14536674, 31.23106003],
       [-0.29224777, 31.47872162],
       [-0.15598033, 31.40001678],
       [-0.15101856, 31.43754959],
       [ 0.72658056, 32.91850662],
       [ 0.8272348 , 32.84408569],
       [ 0.73291022, 32.95875931],
       [ 0.06772821, 32.47159195],
       [ 0.21855424, 32.53989792],
       [ 0.35012743, 32.66998672],
       [ 0.37599328, 32.53587341],
       [ 0.26184228, 32.55675507],
       [ 0.05609019, 32.31092834],
       [ 0.50578141, 32.32940292],
       [ 0.2973924 , 32.51218414],
       [ 0.03934376, 32.5403862 ],
       [ 0.26568061, 32.46275711],
       [ 0.16092952, 32.55293274],
       [ 0.32605389, 32.51040649],
       [-0.3403565 , 31.18403816],
       [ 0.34771341, 32.68297958],
       [ 0.34963498, 32.53723145],
       [ 0.25586113, 32.60401917],
       [ 0.23982717, 32.54393005],
       [ 0.48222363, 32.56721115],
       [-0.10799912, 31.12478256],
       [-0.29533115, 31.21878242],
       [-0.40272766, 31.34989548],
       [ 0.75130618, 31.70298004],
       [ 0.27472311, 31.94265175],
       [ 0.32007161, 32.55504608],
       [ 0.38959432, 32.57942581],
       [ 0.36983928, 32.56652832],
       [ 0.48019925, 31.7791748 ],
       [ 0.54399556, 32.18981934],
       [ 0.50233954, 32.12890625],
       [ 0.62731194, 32.08670807],
       [ 0.64454174, 32.24568176],
       [ 0.68443322, 32.30142593],
       [ 0.58468515, 32.5620079 ],
       [ 1.15960026, 32.00260925],
       [ 1.05097628, 32.46746826],
       [ 0.76735765, 32.52581406],
       [ 0.36996374, 32.55604553],
       [ 0.43140537, 33.81264114],
       [ 0.31351912, 33.87063599],
       [ 0.64493328, 33.71263885],
       [ 0.7115981 , 33.68483353],
       [ 1.11777163, 33.86383057],
       [ 0.10399945, 33.7830925 ],
       [ 0.46774822, 34.09169769],
       [ 0.49065423, 34.09177017],
       [ 0.38901541, 34.05781174],
       [ 0.61590481, 33.47005463],
       [ 0.62369728, 33.4741478 ],
       [ 0.55162567, 33.61889648],
       [ 0.57282799, 33.47402573],
       [ 0.82869673, 33.21648407],
       [ 0.54745358, 33.16527557],
       [ 0.67498285, 33.51989746],
       [ 1.01656532, 33.32798004],
       [ 0.77540731, 33.34747696],
       [ 0.42272052, 33.20249939],
       [ 0.65353996, 30.27563477],
       [ 0.82325   , 34.21780014],
       [ 0.50861353, 33.15309906],
       [ 0.43243656, 33.24067688],
       [ 0.48548794, 33.23855591],
       [ 0.62576252, 33.28877258],
       [ 0.55131948, 33.12586212],
       [ 0.5455637 , 33.09376526],
       [ 0.6602397 , 33.24180603],
       [ 0.92440534, 33.13050842],
       [ 0.60268921, 33.70791245],
       [ 1.20923257, 33.04792404],
       [ 1.23299015, 33.33122635],
       [-0.37060466, 31.7494545 ],
       [ 1.06010282, 33.01022339],
       [ 0.39149293, 32.97930145],
       [ 0.90053391, 33.10151291],
       [ 0.72144115, 33.06970978],
       [ 1.05894637, 33.16449738],
       [ 0.77399325, 33.07475281],
       [ 1.38218474, 34.40445328],
       [ 1.86953104, 33.94808197],
       [ 2.05196261, 33.97797012],
       [ 1.89014375, 33.82380295],
       [ 1.66368937, 33.96788788],
       [ 1.47599638, 33.91716766],
       [ 0.70260435, 34.19309998],
       [ 0.35595033, 32.61220169],
       [ 1.55056167, 34.05858994],
       [ 1.31225717, 33.83413696],
       [ 1.37214017, 33.90796661],
       [ 1.43425596, 33.84978104],
       [ 1.53158426, 34.05011368],
       [ 1.58896816, 33.86013412],
       [ 1.49167764, 33.9666748 ],
       [ 2.25662494, 32.92483521],
       [ 1.07345378, 34.16503906],
       [ 1.07075548, 34.17219925],
       [ 1.0294677 , 34.24618149],
       [ 1.18389952, 33.71959305],
       [ 1.14941645, 33.92056656],
       [ 1.31359673, 33.74016953],
       [ 1.26079977, 33.79705429],
       [ 1.95079851, 32.14789963],
       [ 0.67162681, 31.26206398],
       [ 0.68609124, 31.2665863 ],
       [ 0.65298975, 30.23333549],
       [ 1.78257227, 32.16679382],
       [ 1.64418232, 31.57414436],
       [ 1.74108505, 33.60196686],
       [ 2.12810254, 33.57261658],
       [ 1.74421155, 33.04963303],
       [ 1.56147373, 33.3062973 ],
       [ 1.52577114, 33.55038452],
       [ 1.5014571 , 33.47061157],
       [ 1.83443356, 33.5172081 ],
       [ 1.50963223, 33.39042282],
       [ 1.74095821, 33.58333969],
       [ 1.72766292, 33.51834869],
       [ 1.70041382, 33.68852234],
       [ 1.67027998, 33.70545959],
       [ 0.71111792, 34.17363739],
       [ 0.81942934, 34.09407425],
       [ 0.65747738, 34.15877151],
       [ 0.64062977, 32.99845886],
       [ 0.69613475, 34.00296402],
       [ 0.28841659, 32.57904816],
       [ 0.69624227, 34.10938644],
       [ 0.5132243 , 33.41770935],
       [ 0.7868436 , 33.56753159],
       [ 0.57459944, 33.43344879],
       [ 0.57614297, 33.41810226],
       [ 0.38085535, 32.51646042],
       [ 0.56298977, 33.43497849],
       [ 0.62951756, 33.54127884],
       [ 0.42370349, 33.61217117],
       [ 1.24573779, 34.26357269],
       [ 1.21842372, 34.27043152],
       [ 1.15165544, 34.26158905],
       [ 0.32627881, 32.58145523],
       [ 1.27609849, 34.37190628],
       [ 0.64936912, 34.15151596],
       [ 0.66198635, 34.140625  ],
       [ 1.37477303, 34.30199814],
       [ 2.02890801, 33.59074783],
       [ 2.03712535, 33.48093033],
       [ 1.12054682, 34.05466843],
       [ 2.54137111, 34.66654205],
       [ 1.05403519, 34.37062073],
       [ 1.19971585, 34.15842438],
       [ 0.40317237, 33.52443314],
       [ 1.33163118, 34.66086197],
       [ 1.13588059, 32.99087906],
       [ 1.11415434, 33.21523666],
       [ 1.72660863, 33.8913765 ],
       [ 2.08050132, 33.66411591],
       [ 1.73786163, 34.09527206],
       [ 1.76605308, 33.02389145],
       [ 0.32906908, 32.6401329 ],
       [ 1.82034254, 33.29511642],
       [ 1.56658649, 33.2737236 ],
       [ 1.73496079, 33.46855927],
       [ 1.01852334, 34.07294846],
       [ 1.0507549 , 33.42364883],
       [ 0.73324782, 33.59685898],
       [ 1.05927336, 34.14664078],
       [ 0.81885672, 33.2036972 ],
       [ 1.03577781, 33.38786316],
       [ 0.75813615, 33.41956329],
       [ 0.60471588, 33.48134995],
       [ 1.08883786, 33.40216064],
       [ 0.82531697, 34.27238464],
       [ 0.80270845, 34.30964661],
       [ 0.88382095, 34.38411713],
       [ 0.80488694, 34.30698013],
       [ 0.80868876, 34.33626938],
       [ 0.85762936, 34.36647797],
       [ 0.86954325, 34.38126755],
       [ 0.96144891, 33.59194565],
       [ 0.35106656, 32.66736603],
       [ 2.60070801, 32.85015869],
       [ 2.54251909, 32.88743973],
       [ 2.42460132, 32.8516922 ],
       [ 0.32588589, 32.54440689],
       [ 1.85972571, 32.79957581],
       [ 1.8348341 , 32.38417435],
       [ 2.20869064, 32.88178635],
       [ 0.29019913, 32.57590866],
       [ 2.76196456, 32.33206177],
       [ 2.96017647, 32.26112366],
       [ 2.54238772, 32.32769775],
       [ 3.03833199, 34.14702225],
       [ 2.39584661, 32.51302338],
       [ 2.52738142, 33.20088959],
       [ 2.20474601, 33.17409134],
       [ 2.18861675, 33.11634445],
       [ 2.56624222, 34.64048004],
       [ 3.35872412, 31.55946159],
       [ 3.28149676, 31.56413269],
       [ 3.19387555, 32.85063553],
       [ 3.52506995, 31.71350479],
       [ 2.529953  , 30.78621674],
       [ 2.35744429, 34.58627701],
       [ 1.79521263, 32.89922714],
       [ 1.98235941, 33.05509186],
       [ 1.99222589, 32.80471802],
       [ 2.33012795, 33.03977203],
       [ 1.58144093, 32.83866882],
       [ 3.6067822 , 34.12635803],
       [ 3.17237067, 30.90816498],
       [ 2.71369147, 30.92142105],
       [ 2.29793644, 32.45083237],
       [ 0.68433398, 30.05050278],
       [-0.61905372, 29.94352531],
       [-0.58848798, 30.68992805],
       [ 0.6885438 , 30.33814621],
       [ 1.44564295, 31.33476257],
       [ 1.47465217, 31.33889389],
       [-1.38021421, 30.01063347],
       [-0.56057221, 30.67880058],
       [-0.65430301, 30.38421822],
       [-0.94678497, 30.31203079],
       [ 0.14260529, 30.49532509],
       [ 0.01482984, 30.52032661],
       [ 0.3063015 , 32.59401703],
       [-0.22739641, 30.40216827],
       [ 0.6516096 , 30.64661789],
       [-0.85529506, 30.65958214],
       [-0.2788738 , 30.89012718],
       [ 0.62469971, 32.55294037],
       [ 0.7390241 , 32.93515396],
       [-0.57903451, 31.57389259],
       [ 3.39455414, 31.94296455],
       [ 3.33956957, 31.8304348 ],
       [ 3.38225317, 32.31386948],
       [ 0.45741808, 33.68587112],
       [ 0.54044682, 33.79050827],
       [ 0.35624543, 34.00768661],
       [ 0.54116207, 33.86595535],
       [ 1.44557261, 33.48163605],
       [ 2.15481949, 32.6993866 ],
       [ 1.97871387, 32.52962112],
       [ 2.11768365, 32.53530121],
       [ 1.42019391, 34.34041595],
       [ 0.3293657 , 32.56476974],
       [ 1.01349664, 34.31687927],
       [ 2.4307332 , 32.74663162],
       [ 2.56120586, 32.94090271],
       [ 1.96819818, 32.56834412],
       [ 2.42945981, 32.89060211],
       [ 2.60470653, 32.86257172],
       [ 2.25625014, 32.8728981 ],
       [ 2.27572823, 32.90391541],
       [ 0.35129532, 32.63072205],
       [ 2.14705205, 32.65084457],
       [ 1.88566279, 32.40862656],
       [ 2.02559471, 32.71741867],
       [ 2.29200912, 32.7195282 ],
       [ 1.85034811, 32.70787048],
       [ 2.29922199, 32.72208405],
       [ 1.86747825, 32.79664993],
       [ 2.03341222, 32.83258438],
       [ 2.17402649, 32.61612701],
       [ 1.90533483, 32.37199402],
       [ 1.74660897, 32.16708374],
       [ 2.09518933, 32.41334534],
       [ 3.00683951, 30.91363144],
       [ 2.85869312, 32.53281021],
       [ 2.99211907, 32.72466278],
       [ 2.26362848, 32.89837646],
       [ 2.4909246 , 32.73752975],
       [ 2.41977453, 32.51824951],
       [ 2.31616306, 32.94035339],
       [ 0.31799945, 32.54239273],
       [ 2.12212133, 33.19146347],
       [ 1.84558916, 34.72315979],
       [ 1.77690458, 34.56693649],
       [ 0.32971594, 32.57793808],
       [ 2.15202904, 32.52992249],
       [ 1.89642847, 32.66345215],
       [ 3.0922935 , 30.88910294],
       [ 3.01390004, 31.34415054],
       [ 3.06571341, 30.94122314],
       [ 2.39480662, 31.12674522],
       [ 2.61549759, 31.14520073],
       [ 2.65484762, 31.18450737],
       [ 2.74137545, 30.96131516],
       [ 2.78837085, 30.90916824],
       [ 2.76146293, 32.2359581 ],
       [ 2.76951528, 32.29513931],
       [ 1.46846724, 34.09431839],
       [ 1.99758375, 32.54248428],
       [ 3.03326845, 32.80374146],
       [ 2.94761491, 32.26984406],
       [ 2.7855413 , 32.39966202],
       [ 2.8372333 , 32.53060532],
       [ 2.86015606, 32.43134308],
       [ 2.77324104, 32.30215073],
       [ 2.79109645, 32.41472244],
       [ 2.78688574, 32.41127014],
       [ 2.91334438, 32.1738739 ],
       [ 2.83684015, 32.40782547],
       [ 0.82201171, 30.79213142],
       [ 2.95916128, 32.23300552],
       [ 2.81874657, 32.2802124 ],
       [ 2.98075461, 32.31184387],
       [ 2.94561386, 32.2034111 ],
       [ 2.87572145, 32.37755966],
       [ 2.50530577, 32.38390732],
       [ 2.77530694, 32.28038788],
       [ 3.3647542 , 33.06035233],
       [ 3.30915713, 32.87386703],
       [ 3.32291675, 33.00099182],
       [ 3.27909303, 33.17780685],
       [ 3.43252635, 32.72811508],
       [ 3.69233274, 33.96453476],
       [ 3.08654857, 34.13765335],
       [ 3.03545713, 34.0450592 ],
       [ 2.24418378, 32.89699173],
       [ 2.36052346, 33.21302414],
       [ 2.48079371, 33.06311417],
       [ 2.47428083, 32.71974564],
       [ 2.49378085, 32.78448486],
       [ 2.21650982, 32.88980484],
       [ 2.52146339, 33.2035675 ],
       [ 2.5860641 , 32.69800568],
       [ 2.32800364, 33.26255417],
       [ 1.8266933 , 32.48142242],
       [ 2.11359143, 33.11769867],
       [ 0.32717767, 32.54706955],
       [ 2.37312651, 33.0343399 ],
       [ 2.42715931, 33.04193878],
       [ 2.40863752, 33.06461716],
       [ 2.43456292, 33.06320953],
       [ 2.29568601, 33.00785065],
       [ 2.11178041, 33.10423279],
       [ 2.12083602, 33.13345718],
       [ 2.13755465, 33.20750427],
       [ 2.31113577, 32.98491287],
       [ 2.22304749, 32.86265564],
       [ 2.23748446, 32.91079712],
       [ 2.1458118 , 34.20444107],
       [ 2.4502151 , 34.49146652],
       [ 2.37368083, 34.50110626],
       [ 2.58115363, 34.57567596],
       [ 2.778368  , 32.30721664],
       [ 3.69256735, 31.73166656],
       [ 3.60344052, 31.61289978],
       [ 3.66808867, 31.71561813],
       [ 2.4723835 , 31.06220436],
       [ 0.36675799, 32.59238052],
       [ 2.41769195, 31.03969765],
       [ 2.48970556, 30.9312458 ],
       [ 2.41697717, 30.98645401],
       [ 2.51300311, 30.86557579],
       [ 2.76268697, 30.95483589],
       [ 2.35689759, 31.41754532],
       [ 2.58457088, 30.93525124],
       [ 2.49669147, 30.87583542],
       [ 2.46428514, 31.21923637],
       [ 2.54407477, 30.97838593],
       [ 2.628932  , 30.85736275],
       [ 2.35982013, 30.91781425],
       [ 2.51362681, 30.88189507],
       [ 2.58108997, 30.9663353 ],
       [ 2.59279323, 30.79773712],
       [ 2.63730121, 30.85763931],
       [ 2.49448824, 31.09230995],
       [ 0.34773925, 32.57213593],
       [-0.37803864, 31.72600937],
       [ 0.24053141, 31.77692795],
       [-0.12047429, 31.87996864],
       [ 1.76908839, 34.8571167 ],
       [ 3.57426167, 31.13248634],
       [ 3.41740727, 31.18096161],
       [ 3.34775972, 31.19353294],
       [ 3.25135398, 31.4043541 ],
       [ 3.43934202, 31.21824646],
       [ 3.43339872, 31.22966385],
       [ 2.84705949, 32.12492752],
       [ 3.01977277, 32.27265167],
       [ 1.99565899, 33.56028366],
       [ 2.31196833, 33.00999069],
       [ 2.34069157, 33.0564003 ],
       [ 2.32385993, 33.0019455 ],
       [ 1.99999452, 33.24093246],
       [ 2.21163559, 32.87342072],
       [ 1.7795825 , 33.03952408],
       [ 3.49815559, 34.1300354 ],
       [ 3.51759911, 34.16035843],
       [ 3.4031179 , 30.96143723],
       [ 3.44252777, 30.94565582],
       [ 0.37824506, 33.56937408],
       [ 3.20126748, 30.96424675],
       [ 3.09759188, 30.8847065 ],
       [ 3.21230769, 30.91916084],
       [ 3.27729225, 30.97562027],
       [ 3.09164381, 31.01993942],
       [ 2.80026865, 30.92144394],
       [ 2.74202919, 30.95434189],
       [ 3.14098597, 30.96781349],
       [ 3.066576  , 31.06524658],
       [ 3.03893709, 31.15241432],
       [ 3.21127129, 31.01183701],
       [ 3.25165558, 31.19838905],
       [ 3.24445224, 31.1587162 ],
       [ 0.33694854, 32.58956146],
       [ 2.35250068, 32.25476074],
       [ 2.36485791, 32.6032753 ],
       [ 2.45030451, 32.45884705],
       [ 2.49765158, 32.50254822],
       [ 2.44641113, 32.28257751],
       [ 0.59722191, 30.00920677],
       [ 0.78514379, 30.2475071 ],
       [-0.55654657, 30.13438797],
       [-0.4921464 , 30.51416779],
       [-0.30397952, 30.37849617],
       [-0.26006278, 30.12967491],
       [-0.5497967 , 30.06752205],
       [-0.60349363, 29.99411011],
       [ 0.54303831, 30.56027412],
       [-0.5392192 , 30.70559311],
       [-0.55377346, 30.30369186],
       [ 0.61006534, 30.19677353],
       [-0.52835584, 29.95417976],
       [-0.53699541, 30.01731682],
       [-0.56736475, 30.4266243 ],
       [ 0.73639208, 30.23658562],
       [ 1.423733  , 31.22555923],
       [ 1.36187077, 31.45138741],
       [ 1.44195747, 31.15540314],
       [ 1.25608265, 30.81032562],
       [ 1.23367488, 30.9619503 ],
       [ 0.91439861, 30.75809097],
       [-1.24142969, 29.96116638],
       [-0.60032856, 30.66594124],
       [-1.25521553, 30.05681992],
       [-1.40499544, 29.94939041],
       [-1.46793389, 29.92314529],
       [-1.24129558, 29.77417564],
       [-1.16621912, 29.79429436],
       [-1.15726233, 30.06245041],
       [ 0.64079875, 30.30128288],
       [ 0.62691432, 30.27711868],
       [ 0.44706744, 30.16528702],
       [ 0.57855171, 30.16120148],
       [ 0.17792936, 30.07385254],
       [ 0.25245646, 30.12000084],
       [ 0.0003415 , 29.73390961],
       [ 0.08044931, 29.85223961],
       [ 0.35821471, 30.08519363],
       [ 0.35873491, 30.08819008],
       [ 0.05841377, 29.9493351 ],
       [ 0.94007921, 30.81191826],
       [ 1.02071846, 31.12421608],
       [ 0.88723594, 30.69321251],
       [ 1.00910223, 30.55777931],
       [ 0.91446686, 31.07121849],
       [-1.15060031, 29.67283821],
       [-1.34085131, 29.76825714],
       [-1.1503154 , 29.59143066],
       [ 1.6943171 , 31.71185493],
       [ 1.62602508, 31.5849762 ],
       [ 1.74665225, 31.67006874],
       [ 2.22743917, 32.26158524],
       [-0.60876101, 30.67222977],
       [-0.59340233, 30.66187286],
       [-0.32303834, 30.59479332],
       [-0.01523836, 30.93727112],
       [-0.74503881, 30.42481422],
       [-0.69743824, 30.47741508],
       [-0.8608073 , 30.26927567],
       [-0.76057076, 30.17909431],
       [-0.86766326, 30.35411453],
       [-0.98233658, 30.45973778],
       [-1.19142282, 29.81025314],
       [-0.98717684, 30.12983513],
       [ 0.16516417, 30.49611664],
       [ 0.4597441 , 31.59572983],
       [-0.96490079, 29.95968819],
       [-0.64043075, 29.80598259],
       [-0.59185004, 29.88896561],
       [ 0.38908058, 30.48666191],
       [ 0.18998316, 30.54906273],
       [-0.10503817, 30.26421928],
       [-0.89675093, 29.77832413],
       [-0.77966511, 29.65302658],
       [-0.92032379, 29.80122948],
       [ 0.59972876, 30.64248276],
       [ 0.41965005, 31.03646278],
       [ 0.59102362, 30.47159004],
       [ 0.72875762, 30.64658928],
       [ 2.09265447, 31.48008347],
       [-0.13256295, 30.4788208 ],
       [ 0.080801  , 30.48955345],
       [-0.9256019 , 30.79415894],
       [-0.75724643, 30.80719948],
       [-0.15113828, 30.94885445]];

for (var j = 0; j < 642; j++) {
  var box_width = .09;
  var box_height = .09;
  var north = latlon[j][0] + box_height/2;
  var south = north - box_height;
  var east = latlon[j][1] + box_width/2;
  var west = east - box_width;
  var polygon = ee.Geometry.Rectangle([west, south, east, north]);
  //Map.addLayer(polygon);
  var export_this = composite.clip(polygon);

//Map.addLayer(composite.clip(polygon), {bands: ['B3', 'B2', 'B1'], max:68}, 'TOA composite');

  Export.image.toCloudStorage({
      image: export_this,
      description: 'landsat7_uganda_3yr_cluster_'+j.toString(),
      bucket: 'uganda_landsat_test',
      fileNamePrefix: 'landsat7_uganda_3yr_cluster_'+j.toString(),
      region: polygon,
      scale: 30
      });
  }
